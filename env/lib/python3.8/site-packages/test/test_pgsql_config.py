from arabesque_py.config.db_config import DBConfig
from arabesque_py.config.default_config import DefaultConfig
from arabesque_py.storage.db.pgsql.config import PgSQLConfig


def test_validation_error_config():
    class ConfigWithInheritance(DefaultConfig, DBConfig):
        pass

    config = ConfigWithInheritance(env_file="test/mock/inheritance.env")
    pgsql_config = PgSQLConfig(config)

    assert config.db_username == pgsql_config.username
    assert config.db_password == pgsql_config.password
    assert config.db_database == pgsql_config.database
    assert config.db_host == pgsql_config.host
    assert config.db_port == pgsql_config.port
    assert config.db_debug == pgsql_config.debug
    assert config.db_pool_size == pgsql_config.pool_size
