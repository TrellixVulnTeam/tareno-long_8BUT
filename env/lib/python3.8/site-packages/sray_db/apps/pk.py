from enum import Enum

from sqlalchemy.sql import sqltypes


class PrimaryKey(Enum):
    date = 'date'
    assetid = 'assetid'
    holding_id = 'holdingid'

    @property
    def key(self) -> str:
        return self.name

    @property
    def type(self) -> str:
        type_map = {
            self.date: sqltypes.Date,
            self.assetid: sqltypes.Integer,
            self.holding_id: sqltypes.Integer,
        }
        return type_map[self]
