## -*- coding: utf-8 -*-
from pathlib import Path

import sray_db
from sray_db.apps.app_config import AppConfig
from sray_db.apps.registry import Registry

# Gather all app config paths here:
config_paths = [Path('apps/gc/GC260.yaml'),
                Path('apps/gc/GC2610.yaml'),
                Path('apps/gc/GC2611.yaml'),
                Path('apps/gc/GC2612.yaml'),
                Path('apps/gc/GC2620.yaml'),
                Path('apps/gc/GC2621.yaml'),
                Path('apps/gc/GCCov2620.yaml'),
                Path('apps/gc/GCCov2621.yaml'),
                Path('apps/esg/ESG260.yaml'),
                Path('apps/esg/ESG2610.yaml'),
                Path('apps/esg/ESG2611.yaml'),
                Path('apps/esg/ESG2612.yaml'),
                Path('apps/esg/ESG2620.yaml'),
                Path('apps/esg/ESG2621.yaml'),
                Path('apps/esg/ESGCov2620.yaml'),
                Path('apps/esg/ESGCov2621.yaml'),
                Path('apps/esg/ESGMaterialityDaily260.yaml'),
                Path('apps/esg/ESGMaterialityDaily261.yaml'),
                Path('apps/esg/ESGMateriality260.yaml'),
                Path('apps/esg/ESGMateriality2610.yaml'),
                Path('apps/feature/FeatureTotal260.yaml'),
                Path('apps/feature/FeatureTotal2610.yaml'),
                Path('apps/feature/FeatureTotal2611.yaml'),
                Path('apps/feature/FeatureTotal2612.yaml'),
                Path('apps/feature/FeatureTotal2620.yaml'),
                Path('apps/feature/FeatureTotal2621.yaml'),
                Path('apps/feature/FeatureTotalCov2620.yaml'),
                Path('apps/feature/FeatureTotalCov2621.yaml'),
                Path('apps/feature/FeatureLong260.yaml'),
                Path('apps/feature/FeatureLong2610.yaml'),
                Path('apps/feature/FeatureLong2611.yaml'),
                Path('apps/feature/FeatureLong2612.yaml'),
                Path('apps/feature/FeatureLong2620.yaml'),
                Path('apps/feature/FeatureLong2621.yaml'),
                Path('apps/feature/FeatureLongCov2620.yaml'),
                Path('apps/feature/FeatureLongCov2621.yaml'),
                Path('apps/feature/FeatureShort260.yaml'),
                Path('apps/feature/FeatureShort2610.yaml'),
                Path('apps/feature/FeatureShort2611.yaml'),
                Path('apps/feature/FeatureShortCov2611.yaml'),
                Path('apps/pf/PF260.yaml'),
                Path('apps/pf/PF2610.yaml'),
                Path('apps/pf/PF2611.yaml'),
                Path('apps/pf/PFCov2611.yaml'),
                Path('apps/pf/PFRev300.yaml'),
                Path('apps/pf/PFRevCov300.yaml'),
                Path('apps/pf/PFInv300.yaml'),
                Path('apps/pf/PFInvCov300.yaml'),
                Path('apps/pf/PFflag5inv300.yaml'),
                Path('apps/pf/PFflag5invCov300.yaml'),
                Path('apps/pf/CatholicFilter100.yaml'),
                Path('apps/pf/CatholicFilterCov100.yaml'),
                Path('apps/pf/ControversialWeapons100.yaml'),
                Path('apps/pf/ControversialWeaponsCov100.yaml'),
                Path('apps/factset/fs_inv_cleaned_daily_100.yaml'),
                Path('apps/factset/fs_rev_cleaned_daily_100.yaml'),
                Path('apps/cfra/cfra_cleaned_daily_100.yaml'),
                Path('apps/cfra/cfra_cleaned_daily_1001.yaml'),
                Path('apps/idealratings/ir_esg_cleaned_daily_100.yaml'),
                Path('apps/idealratings/ir_esg_cleaned_daily_1001.yaml'),
                Path('apps/idealratings/ir_flag_cleaned_daily_100.yaml'),
                Path('apps/idealratings/ir_flag_cleaned_daily_1001.yaml'),
                Path('apps/idealratings/ir_rev_cleaned_daily_100.yaml'),
                Path('apps/idealratings/ir_rev_cleaned_daily_1001.yaml'),
                Path('apps/iss/iss_esg_cleaned_daily_100.yaml'),
                Path('apps/iss/iss_esg_cleaned_daily_1001.yaml'),
                Path('apps/iss/iss_esg_cleaned_daily_1002.yaml'),
                Path('apps/leverage/lev_cleaned_daily_100.yaml'),
                Path('apps/leverage/lev_cleaned_daily_1001.yaml'),
                Path('apps/thomson_reuters/tr_esg_cleaned_daily_100.yaml'),
                Path('apps/thomson_reuters/tr_esg_scores_cleaned_daily_100.yaml'),
                Path('apps/thomson_reuters/tr_esg_scores_cleaned_daily_1001.yaml'),
                Path('apps/thomson_reuters/tr_esg_datapoints_cleaned_daily_100.yaml'),
                Path('apps/thomson_reuters/tr_esg_datapoints_cleaned_daily_1001.yaml'),
                Path('apps/trust/trust_cleaned_daily_100.yaml'),
                Path('apps/trust/trust_cleaned_daily_1001.yaml'),
                Path('apps/assetinfo/activity_100.yaml'),
                Path('apps/assetinfo/dom_country_100.yaml'),
                Path('apps/assetinfo/entity_100.yaml'),
                Path('apps/assetinfo/exch_country_100.yaml'),
                Path('apps/assetinfo/exchange_100.yaml'),
                Path('apps/assetinfo/name_100.yaml'),
                Path('apps/assetinfo/security_id_100.yaml'),
                Path('apps/temperature/temperature_100.yaml'),
                Path('apps/temperature/temperature_1001.yaml'),
                Path('apps/temperature/temperature_1100.yaml'),
                Path('apps/temperature/temperature_emissions_100.yaml'),
                Path('apps/temperature/temperature_emissions_1001.yaml'),
                Path('apps/temperature/temperature_emissions_1100.yaml'),
                Path('apps/temperature/temperature_financials_100.yaml'),
                Path('apps/temperature/temperature_financials_1001.yaml'),
                Path('apps/temperature/temperature_financials_1100.yaml'),
                Path('apps/temperature/temperature_sbti_100.yaml'),
                Path('apps/temperature/temperature_sbti_1001.yaml'),
                Path('apps/temperature/temperature_sbti_1100.yaml'),
                Path('apps/financials/sray_mktcap_261.yaml'),
                Path('apps/wsje/wsje_tr_scores_1000.yaml'),
                Path('apps/wsje/wsje_tr_scores_1001.yaml'),
                Path('apps/wsje/wsje_ir_scores_1000.yaml'),
                Path('apps/financials/close_price_returns_1000.yaml'),
                Path('apps/financials/close_price_monthly_returns_1000.yaml'),
                Path('apps/blocklist/blocklist_1000.yaml'),
                Path('apps/esg/ESGMaterialityNoFin2620.yaml'),
                Path('apps/esg/ESGMaterialityNoFinDaily2620.yaml'),
                Path('apps/esg/ESGNoFin2620.yaml'),
                Path('apps/esg/ESGNoFinCov2620.yaml'),
                Path('apps/wsje/wsje_short_ewma_100.yaml'),
                Path('apps/wsje/wsje_short_nv_100.yaml'),
                Path('apps/wsje/wsje_total_100.yaml'),
                Path('apps/wsje/wsje_total_un_adj_100.yaml'),
                Path('apps/wsje/wsje_total_sd_un_adj_100.yaml'),
                Path('apps/wsje/wsje_long_100.yaml'),
                Path('apps/wsje/wsje_long_un_adj_100.yaml'),
                Path('apps/wsje/wsje_input_logging_100.yaml'),
                Path('apps/wsje/wsje_input_logging_1001.yaml'),
                Path('apps/wsje/wsje_aggregate_100.yaml'),
                Path('apps/wsje/wsje_long_sd_100.yaml'),
                Path('apps/wsje/wsje_long_sd_un_adj_100.yaml'),
                Path('apps/wsje/wsje_input_logging_binary_100.yaml'),
                Path('apps/wsje/wsje_input_logging_binary_1001.yaml'),
                Path('apps/sasb/sasb_sics_materiality_100.yaml'),
                Path('apps/wsje/wsje_aggregate_1001.yaml'),
                Path('apps/wsje/wsje_aggregate_1100.yaml'),
                Path('apps/wsje/wsje_input_logging_1100.yaml'),
                Path('apps/wsje/wsje_input_logging_binary_1100.yaml'),
                Path('apps/wsje/wsje_ir_scores_1100.yaml'),
                Path('apps/wsje/wsje_long_1100.yaml'),
                Path('apps/wsje/wsje_long_sd_1100.yaml'),
                Path('apps/wsje/wsje_long_sd_un_adj_1100.yaml'),
                Path('apps/wsje/wsje_long_un_adj_1100.yaml'),
                Path('apps/wsje/wsje_short_ewma_1100.yaml'),
                Path('apps/wsje/wsje_short_nv_1100.yaml'),
                Path('apps/wsje/wsje_total_1100.yaml'),
                Path('apps/wsje/wsje_total_sd_un_adj_1100.yaml'),
                Path('apps/wsje/wsje_total_un_adj_1100.yaml'),
                Path('apps/wsje/wsje_tr_scores_1100.yaml'),
                ]

module_root = Path(sray_db.__file__).parent
config_paths = [module_root.joinpath(p) for p in config_paths]


def read_configs(config_paths):
    # Set up all configs:
    configs = []
    for path in config_paths:
        # Create new AppConfig from path
        config = AppConfig(path)
        # Add it to the list
        configs.append(config)
    return configs

def create_apps(configs, custom_app_list):
    # Create an App object for every config
    # TODO: from_configs
    return Registry(configs, custom_app_list)

configs = read_configs(config_paths)
apps = create_apps(configs, [])
